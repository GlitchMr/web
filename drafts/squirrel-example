use Squirrel;

my $DB = Squirrel.sqlite;

$DB.create_table: <items
    primary_key id
    String      name
    Float       price
>;

given $DB<items> {
    # Populate the table
    .insert: name => 'abc', price => rand() * 100;
    .insert: name => 'def', price => rand() * 100;
    .insert: name => 'ghi', price => rand() * 100;

    # Print out the number of records
    say "Item count: {.count}";

    # Print out the average price
    say "The average price is: {.avg('price')}";
}
